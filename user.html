<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Details</title>
    <link rel="stylesheet" href="user.css">
    <style>
        .document-image {
            max-width: 200px;
            max-height: 200px;
            border: 1px solid #ddd;
            margin-top: 10px;
            display: block;
        }
        .no-image {
            color: #999;
            font-style: italic;
        }
        .document-image {
            max-width: 200px;
            max-height: 200px;
            border: 1px solid #ddd;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Application Details</h1>

    <!-- Personal Information -->
    <div class="detail-container">
        <h2>Personal Information</h2>
        <div class="detail-item">
            <span class="detail-label">Full Name:</span>
            <span class="detail-value" id="name"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Age:</span>
            <span class="detail-value" id="age"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Contact Number:</span>
            <span class="detail-value" id="contact-number"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Email:</span>
            <span class="detail-value" id="email"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Course:</span>
            <span class="detail-value" id="course"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">ID-Number:</span>
            <span class="detail-value" id="id-number"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Pin-Code:</span>
            <span class="detail-value" id="pincode"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">City:</span>
            <span class="detail-value" id="city"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">State:</span>
            <span class="detail-value" id="state"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Address:</span>
            <span class="detail-value" id="address"></span>
        </div>
    </div>

    <!-- Education Details -->
    <div class="detail-container">
        <h2>Education Details</h2>
        <div class="detail-item">
            <span class="detail-label">Board of Education:</span>
            <span class="detail-value" id="board-of-ed"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Secondary School:</span>
            <span class="detail-value" id="secondary-school"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Secondary-Roll-Number</span>
            <span class="detail-value" id="secondary-roll"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Secondary Percentage Mark:</span>
            <span class="detail-value" id="secondary-marks"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Senior Secondary School:</span>
            <span class="detail-value" id="senior-secondary-school"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Senior Secondary Subjects</span>
            <span class="detail-value" id="senior-subjects"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Senior Secondary Roll Number</span>
            <span class="detail-value" id="senior-roll"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Senior Secondary Percentage Mark:</span>
            <span class="detail-value" id="senior-marks"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Passport Size Photo:</span>
            <img class="document-image" id="passport-photo-img" src="" alt="Passport Photo">
        </div>        
        <div class="detail-item">
            <span class="detail-label">Signature:</span>
            <img class="document-image" id="signature-img" src="" alt="Signature">
        </div>        
        <div class="detail-item">
            <span class="detail-label">10th Marksheet:</span>
            <img class="document-image" id="10th-marksheet-img" src="" alt="10th Marksheet">
        </div>
        <div class="detail-item">
            <span class="detail-label">12th Marksheet:</span>
            <img class="document-image" id="12th-marksheet-img" src="" alt="12th Marksheet">
        </div>
        <div class="detail-item">
            <span class="detail-label">Aadhar Copy:</span>
            <img class="document-image" id="adhar-copy-img" src="" alt="Aadhar Copy">
        </div>
        
    </div>

    <!-- Family Details -->
    <div class="detail-container">
        <h2>Family Details</h2>
        <div class="detail-item">
            <span class="detail-label">Father's Name:</span>
            <span class="detail-value" id="father-name"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Father's Contact:</span>
            <span class="detail-value" id="father-contact"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Father's Email Id:</span>
            <span class="detail-value" id="father-email"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Father's Occupation:</span>
            <span class="detail-value" id="father-occupation"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Mother's Name:</span>
            <span class="detail-value" id="mother-name"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Mother's Contact:</span>
            <span class="detail-value" id="mother-contact"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Mother's Email Id:</span>
            <span class="detail-value" id="mother-email"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Mother's Occupation:</span>
            <span class="detail-value" id="mother-occupation"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Annual Income:</span>
            <span class="detail-value" id="annual-income"></span>
        </div>
    </div>

    <!-- Exam Center Preferences -->
    <div class="detail-container">
        <h2>Exam Center Preferences</h2>
        <div class="detail-item">
            <span class="detail-label">First Preference:</span>
            <span class="detail-value" id="exam-center-1"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Second Preference:</span>
            <span class="detail-value" id="exam-center-2"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Third Preference:</span>
            <span class="detail-value" id="exam-center-3"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Fourth Preference:</span>
            <span class="detail-value" id="exam-center-4"></span>
        </div>
        <div class="detail-item">
            <span class="detail-label">Fifth Preference:</span>
            <span class="detail-value" id="exam-center-5"></span>
        </div>
    </div>

    <!-- Exit Button -->
    <h6><a href="/index.html" class="back-btn"><h6>Exit</h6></a></h6>

    <!-- JavaScript to Populate Fields -->
    <script type="text/javascript">
        // Extract query parameters from the URL
        var data = window.location.search;
        var params = new URLSearchParams(data);

        // Populate fields dynamically
        document.getElementById("name").textContent = params.get("name");
        document.getElementById("age").textContent = params.get("age");
        document.getElementById("contact-number").textContent = params.get("contact-number");
        document.getElementById("email").textContent = params.get("email");
        document.getElementById("course").textContent = params.get("course");
        document.getElementById("id-number").textContent = params.get("id-number");
        document.getElementById("pincode").textContent = params.get("pincode");
        document.getElementById("city").textContent = params.get("city");
        document.getElementById("state").textContent = params.get("state");
        document.getElementById("address").textContent = params.get("address");
        document.getElementById("board-of-ed").textContent = params.get("board-of-ed");
        document.getElementById("secondary-school").textContent = params.get("secondary-school");
        document.getElementById("secondary-roll").textContent = params.get("secondary-roll");
        document.getElementById("secondary-marks").textContent = params.get("secondary-marks");
        document.getElementById("senior-secondary-school").textContent = params.get("senior-secondary-school");
        document.getElementById("senior-subjects").textContent = params.get("senior-subjects");
        document.getElementById("senior-roll").textContent = params.get("senior-roll");
        document.getElementById("senior-marks").textContent = params.get("senior-marks");
        document.getElementById("father-name").textContent = params.get("father-name");
        document.getElementById("father-contact").textContent = params.get("father-contact");
        document.getElementById("father-email").textContent = params.get("father-email");
        document.getElementById("father-occupation").textContent = params.get("father-occupation");
        document.getElementById("mother-name").textContent = params.get("mother-name");
        document.getElementById("mother-contact").textContent = params.get("mother-contact");
        document.getElementById("mother-email").textContent = params.get("mother-email");
        document.getElementById("mother-occupation").textContent = params.get("mother-occupation");
        document.getElementById("annual-income").textContent = params.get("annual-income");
        document.getElementById("exam-center-1").textContent = params.get("exam-center-1");
        document.getElementById("exam-center-2").textContent = params.get("exam-center-2");
        document.getElementById("exam-center-3").textContent = params.get("exam-center-3");
        document.getElementById("exam-center-4").textContent = params.get("exam-center-4");
        document.getElementById("exam-center-5").textContent = params.get("exam-center-5");

    const params1 = new URLSearchParams(window.location.search);

// Load all images
function loadImage(elementId, paramName) {
    const img = document.getElementById(elementId);
    let fileName = params1.get(paramName);
    
    if (fileName) {
        // Encode spaces and special characters
        fileName = encodeURI(fileName);
        
        // Check if this is a base64 image
        if (fileName.startsWith('data:image')) {
            img.src = fileName;
        } else {
            // Assume it's a file path - prepend uploads directory if needed
            img.src = '/uploads/' + fileName;
        }
        
        img.onerror = function() {
            console.error('Failed to load image:', this.src);
            this.style.display = 'none';
            this.insertAdjacentHTML('afterend', 
                '<div class="image-error">Failed to load image</div>');
        };
    } else {
        img.style.display = 'none';
    }
}

// Load all images
loadImage("passport-photo-img", "passport-photo");
loadImage("signature-img", "signature");
loadImage("10th-marksheet-img", "10th-marksheet");
loadImage("12th-marksheet-img", "12th-marksheet");
loadImage("adhar-copy-img", "adhar-copy");
// In your form submission code (where you generate the URL)
function getBase64(file) {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => resolve(reader.result);
        reader.onerror = error => reject(error);
    });
}
    </script>
</body>
</html>
